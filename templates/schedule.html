<!doctype html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Set Jadwal - MBA7 Automation</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  </head>
  <body>
    <div class="container">
      <header class="site-head">
        <div>
          <h2>Set Jadwal Harian</h2>
          <div class="muted">Jalankan automation setiap hari pada jam yang dipilih untuk akun ini.</div>
        </div>
        <div class="top-actions muted">&nbsp;</div>
        <div class="theme-toggle" title="Toggle theme" aria-hidden="false">
          <button id="theme-toggle-btn" aria-label="Toggle dark mode" class="btn btn-ghost">
            <svg id="theme-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path></svg>
          </button>
        </div>
      </header>
      <div class="card">
      <form method="post">
        <input type="hidden" name="phone" value="{{ phone_display }}" />
        <div class="mt-12">
          <label>Nomor (tanpa +62):</label>
          <div class="mt-6">+62 {{ phone_display }}</div>
        </div>
        <div class="row">
          <label for="schedule">Jam harian</label>
          <input id="schedule" name="schedule" type="time" value="{{ schedule or '' }}" />
        </div>
        <div class="actions">
          <button type="submit" class="btn btn-primary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Simpan Jadwal
          </button>
          <a href="/" class="btn btn-ghost ml-12">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M10 19l-7-7 7-7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 12h18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Kembali
          </a>
        </div>
      </form>
      <p class="muted mt-12">Kosongkan untuk menghapus jadwal.</p>
      </div>
      <footer class="mt-8 muted">Kembali ke <a href="/">halaman utama</a>.</footer>
    <script>
      (function(){
        const themeToggleBtn = document.getElementById('theme-toggle-btn');
        const themeIcon = document.getElementById('theme-icon');
        function setTheme(isDark){
          if (isDark) document.body.classList.add('dark'); else document.body.classList.remove('dark');
          try{ localStorage.setItem('theme', isDark ? 'dark' : 'light'); }catch(e){}
          if (!themeIcon) return;
          if (isDark){
            themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"></path>';
          } else {
            themeIcon.innerHTML = '<circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.4"></circle> <path d="M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path>';
          }
        }

        try{ var stored = localStorage.getItem('theme'); }catch(e){ stored = null }
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const dark = (stored === 'dark') || (stored === null && prefersDark);
        setTheme(dark);

        if (themeToggleBtn){
          themeToggleBtn.addEventListener('click', function(){
            const isDark = document.body.classList.toggle('dark');
            setTheme(isDark);
            themeToggleBtn.classList.add('clicked');
            setTimeout(()=> themeToggleBtn.classList.remove('clicked'), 220);
          });
        }
      })();
    </script>
    <!-- Compact-only: no theme toggle JS required -->
    </div>
  </body>
</html>
